User.
Регистрация.
Тесты, Планировщик, Финансы.
Контакты (для уведомлений: e-mail, sms, jabber).
Статистика агрегируется по часам. В идеале выбрать максимальный интервал, например по дням, но в разных временных зонах день начинается в разное время.
Статистика удаляется после 42 дней. Максимальное количество записей - 1008 (42*24) - приемлемо.
Код выносить в отдельные функции/модули только для устранения дублирования.
Денег брать по рублю за Test Action. Можно и по центу, но лучше по рублю, т.к. рубль дороже а выглядит дешевле.
Блокировать аккаунт без E-Mail после 2 дней неактивности. Активность смотреть по логу (любые сообщения).
При блокировании аккаунта:
 1) изенить пароль на случайный
 2) изменить логин на случайный
 3) удалить E-Mail (если есть)
 4) удалить все задачи расписания
 5) отменить все подписки и транзакции в биллинге
 6) сделать refund по размеру баланса
 7) отменить все задачи в очереди на выполнение
Аккаунт удаляется из БД (accouts, tests, settings) когда с ним не связана больше ни одна периодически удаляемая запись в БД (stats, tasks, billing)
 т.е. максимум через 2 года (billing).
